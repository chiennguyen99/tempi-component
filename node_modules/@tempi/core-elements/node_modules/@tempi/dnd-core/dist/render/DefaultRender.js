'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var jsxRuntime = require('react/jsx-runtime');
var React = require('react');
var SimpleElement = require('./SimpleElement.js');
var NodeElement = require('../nodes/NodeElement.js');
var useInternalNode = require('../nodes/useInternalNode.js');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var React__default = /*#__PURE__*/_interopDefaultLegacy(React);

const DefaultRender = () => {
  const { type, props, nodes, hydrationTimestamp } = useInternalNode.useInternalNode(
    (node) => ({
      type: node.data.type,
      props: node.data.props,
      nodes: node.data.nodes,
      hydrationTimestamp: node._hydrationTimestamp
    })
  );
  return React.useMemo(() => {
    if (!type)
      return /* @__PURE__ */ jsxRuntime.jsx("div", {});
    let render = React__default["default"].createElement(type, props, props == null ? void 0 : props.children);
    if (nodes && nodes.length > 0) {
      render = React__default["default"].createElement(
        type,
        props,
        ...nodes.map((id) => /* @__PURE__ */ jsxRuntime.jsx(NodeElement.NodeElement, {
          id
        }, id))
      );
    }
    if (typeof type == "string") {
      return /* @__PURE__ */ jsxRuntime.jsx(SimpleElement.SimpleElement, {
        render
      });
    }
    return render;
  }, [type, props, hydrationTimestamp, nodes]);
};

exports.DefaultRender = DefaultRender;
