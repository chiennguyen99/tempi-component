'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var EventHandlers = require('./EventHandlers.js');
var interfaces = require('./interfaces.js');

class DerivedEventHandlers extends EventHandlers.EventHandlers {
  constructor(derived, options) {
    super(options);
    this.derived = derived;
    this.options = options;
    this.unsubscribeParentHandlerListener = this.derived.listen((msg) => {
      switch (msg) {
        case interfaces.EventHandlerUpdates.HandlerEnabled: {
          return this.enable();
        }
        case interfaces.EventHandlerUpdates.HandlerDisabled: {
          return this.disable();
        }
        default: {
          return;
        }
      }
    });
  }
  inherit(cb) {
    return this.createProxyHandlers(this.derived, cb);
  }
  cleanup() {
    super.cleanup();
    this.unsubscribeParentHandlerListener();
  }
}

exports.DerivedEventHandlers = DerivedEventHandlers;
