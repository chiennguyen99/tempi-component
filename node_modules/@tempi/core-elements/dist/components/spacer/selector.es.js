import { withSelector, AdvanceAttributes, getEditorName } from '@tempi/core-editor';
import { DEFAULT_SPACER } from './constants.es.js';
import { SpacerQuickSetting } from './quick-setting.es.js';
import { Spacer } from './ui.es.js';
import { RowEditor } from '../section/selector.es.js';
import { RootEditor } from '../root/selector.es.js';

const SpacerEditor = withSelector(
  Spacer,
  {
    displayName: "Kho\u1EA3ng c\xE1ch",
    tag: Spacer.displayName.toLowerCase(),
    advanceAttributes: AdvanceAttributes,
    quickSetting: SpacerQuickSetting,
    props: DEFAULT_SPACER,
    rules: {
      canDrop: (targetNode) => {
        const ignoreTargets = [
          getEditorName({ RowEditor }),
          getEditorName({ RootEditor })
        ];
        return !ignoreTargets.includes(targetNode.data.name);
      }
    }
  },
  {
    style: { cursor: "pointer" }
  }
);

export { SpacerEditor };
