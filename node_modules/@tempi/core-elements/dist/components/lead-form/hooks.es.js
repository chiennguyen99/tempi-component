import { useState } from 'react';
import { CDPBff } from './constants.es.js';
import { useStore, Api } from '@tempi/core-renderer';

const useLeadForm = () => {
  const { env } = useStore();
  const API = new Api(CDPBff[env]);
  const [loading, setLoading] = useState(false);
  const getFormSession = async () => {
    var _a, _b;
    try {
      setLoading(true);
      const res = await API.get("/v1/lead-form-event/form-session");
      return (_b = (_a = res == null ? void 0 : res.data) == null ? void 0 : _a.data) == null ? void 0 : _b.formSession;
    } catch (e) {
      return "";
    } finally {
      setLoading(false);
    }
  };
  return { loading, getFormSession };
};

export { useLeadForm };
