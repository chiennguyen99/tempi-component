'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');
var constants = require('./constants.js');
var coreRenderer = require('@tempi/core-renderer');

const useLeadForm = () => {
  const { env } = coreRenderer.useStore();
  const API = new coreRenderer.Api(constants.CDPBff[env]);
  const [loading, setLoading] = React.useState(false);
  const getFormSession = async () => {
    var _a, _b;
    try {
      setLoading(true);
      const res = await API.get("/v1/lead-form-event/form-session");
      return (_b = (_a = res == null ? void 0 : res.data) == null ? void 0 : _a.data) == null ? void 0 : _b.formSession;
    } catch (e) {
      return "";
    } finally {
      setLoading(false);
    }
  };
  return { loading, getFormSession };
};

exports.useLeadForm = useLeadForm;
