'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var React = require('react');
var coreEditor = require('@tempi/core-editor');
var type = require('../type.js');
var constants = require('../constants.js');
var propKey = require('../../../constants/propKey.js');

const useChangeLayout = () => {
  const [layout] = coreEditor.useProp(propKey.PROP_KEY.Layout);
  const [barStyle, setBarStyle] = coreEditor.useProp(propKey.PROP_KEY.BarStyle);
  const [circleStyle, setCircleStyle] = coreEditor.useProp(propKey.PROP_KEY.CircleStyle);
  const [, setTextStyle] = coreEditor.useProp(propKey.PROP_KEY.TextStyle);
  const [, setNumberStyle] = coreEditor.useProp(propKey.PROP_KEY.NumberStyle);
  React.useEffect(() => {
    if (layout === type.NumberCounterLayout.bar) {
      setCircleStyle(void 0);
      if (!barStyle) {
        setBarStyle(constants.DEFAULT_BAR_STYLE.barStyle);
        setTextStyle(constants.DEFAULT_BAR_STYLE.textStyle);
        setNumberStyle(constants.DEFAULT_BAR_STYLE.numberStyle);
      }
    } else if (layout === type.NumberCounterLayout.circle) {
      setBarStyle(void 0);
      if (!circleStyle) {
        setCircleStyle(constants.DEFAULT_CIRCLE_STYLE.circleStyle);
        setTextStyle(constants.DEFAULT_CIRCLE_STYLE.textStyle);
        setNumberStyle(constants.DEFAULT_CIRCLE_STYLE.numberStyle);
      }
    } else {
      setCircleStyle(void 0);
      setBarStyle(void 0);
      setTextStyle(constants.DEFAULT_NUMBER_STYLE.textStyle);
      setNumberStyle(constants.DEFAULT_NUMBER_STYLE.numberStyle);
    }
  }, [layout]);
};

exports.useChangeLayout = useChangeLayout;
