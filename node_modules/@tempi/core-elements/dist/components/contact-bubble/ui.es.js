import { jsx } from 'react/jsx-runtime';
import styled from '@emotion/styled';
import { useStore } from '@tempi/core-renderer';
import { ContactBubbleLayout, ContactBubblePosition } from './type.es.js';
import { Bubbles } from './components/Bubbles.es.js';

const ContactBubble = (props) => {
  const { device } = useStore();
  const { enable, isEditorMode } = props;
  if (!enable)
    return null;
  const {
    items = [],
    layout = ContactBubbleLayout.VERTICAL,
    position = ContactBubblePosition.BOTTOM_RIGHT,
    gap
  } = (device === "desktop" ? props == null ? void 0 : props.desktop : props == null ? void 0 : props.mobile) || {};
  return /* @__PURE__ */ jsx(Wrapper, {
    position,
    gap,
    children: /* @__PURE__ */ jsx(Bubbles, {
      items,
      layout,
      position,
      isEditorMode
    })
  });
};
ContactBubble.displayName = "ContactBubble";
const getStyleByPosition = (position, gap) => {
  switch (position) {
    case ContactBubblePosition.BOTTOM_RIGHT:
      return `
bottom: ${(gap == null ? void 0 : gap.vertical) || 0}px;
right: ${(gap == null ? void 0 : gap.horizontal) || 0}px;
`;
    case ContactBubblePosition.BOTTOM_LEFT:
      return `
bottom: ${(gap == null ? void 0 : gap.vertical) || 0}px;
left: ${(gap == null ? void 0 : gap.horizontal) || 0}px;
`;
    case ContactBubblePosition.CENTER_LEFT:
      return `
top: 50%;
left: ${(gap == null ? void 0 : gap.horizontal) || 0}px;
transform: translateY(-50%);
`;
    case ContactBubblePosition.CENTER_RIGHT:
      return `
top: 50%;
right: ${(gap == null ? void 0 : gap.horizontal) || 0}px;
transform: translateY(-50%);
`;
    default:
      return "";
  }
};
const Wrapper = styled.div(
  ({ position, gap }) => `
position: fixed;
z-index: 9999;
${getStyleByPosition(position, gap)}
`
);

export { ContactBubble };
