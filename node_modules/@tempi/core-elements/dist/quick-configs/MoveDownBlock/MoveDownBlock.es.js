import { jsx } from 'react/jsx-runtime';
import { t } from '../../i18n.es.js';
import { ArrowSortDownRegular } from '@fluentui/react-icons';
import { useEditor, useNode, QuickSettingButton } from '@tempi/core-editor';

const MoveDownBlock = () => {
  const { actions, query, getParent, getNextNode } = useEditor();
  const { id } = useNode();
  const onMoveDown = () => {
    var _a, _b, _c;
    const parentId = getParent(id).id;
    const index = query.node(parentId).get().data.nodes.indexOf(id);
    const nodeIsLastElement = index + 1 === getParent(id).data.nodes.length;
    const nextNodeIsFooter = ((_c = (_b = (_a = getNextNode(id)) == null ? void 0 : _a.data) == null ? void 0 : _b.props) == null ? void 0 : _c.type) === "FOOTER";
    if (nodeIsLastElement || nextNodeIsFooter)
      return;
    actions.move(id, parentId, index + 2);
    actions.selectNode();
  };
  return /* @__PURE__ */ jsx(QuickSettingButton, {
    onClick: onMoveDown,
    tooltip: t("Di chuy\u1EC3n kh\u1ED1i xu\u1ED1ng d\u01B0\u1EDBi"),
    children: /* @__PURE__ */ jsx(ArrowSortDownRegular, {
      style: { fontSize: 16 }
    })
  });
};

export { MoveDownBlock };
