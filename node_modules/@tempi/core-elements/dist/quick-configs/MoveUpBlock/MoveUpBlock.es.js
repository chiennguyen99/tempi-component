import { jsx } from 'react/jsx-runtime';
import { t } from '../../i18n.es.js';
import { ArrowSortUpRegular } from '@fluentui/react-icons';
import { useEditor, useNode, QuickSettingButton } from '@tempi/core-editor';

const MoveUpBlock = () => {
  const { actions, query, getParent, getPrevNode } = useEditor();
  const { id } = useNode();
  const onMoveUp = () => {
    var _a, _b, _c;
    const parentId = getParent(id).id;
    const index = query.node(parentId).get().data.nodes.indexOf(id);
    const nodeIsFirstElement = index === 0;
    const prevNodeIsHeader = ((_c = (_b = (_a = getPrevNode(id)) == null ? void 0 : _a.data) == null ? void 0 : _b.props) == null ? void 0 : _c.type) === "HEADER";
    if (nodeIsFirstElement || prevNodeIsHeader)
      return;
    actions.move(id, parentId, index - 1);
    actions.selectNode();
  };
  return /* @__PURE__ */ jsx(QuickSettingButton, {
    onClick: onMoveUp,
    tooltip: t("Di chuy\u1EC3n kh\u1ED1i l\xEAn tr\xEAn"),
    children: /* @__PURE__ */ jsx(ArrowSortUpRegular, {
      style: { fontSize: 16 }
    })
  });
};

export { MoveUpBlock };
