'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var getResponsiveAttrKey = require('../../../utils/getResponsiveAttrKey.js');

const getVarFromStyle = (element, defaultKey, device) => {
  var _a;
  const key = getResponsiveAttrKey.getResponsiveAttrKey(defaultKey, device);
  const varPattern = `--${key}:\\s*(?<value>.[^;]+);`;
  const { value } = ((_a = new RegExp(varPattern).exec(element.style.cssText)) == null ? void 0 : _a.groups) || {};
  return value;
};
const renderResponsiveAttr = (attributes, defaultKey, device) => {
  if (attributes[defaultKey] !== null)
    return {};
  const responsiveKey = getResponsiveAttrKey.getResponsiveAttrKey(defaultKey, device);
  const value = attributes[responsiveKey];
  if (value !== null) {
    return {
      style: `--${responsiveKey}: ${value}`,
      class: `fs-${device}`
    };
  }
};
const moveStyleToListItem = (node, attributes) => {
  if (!attributes.style)
    return;
  const {
    backgroundColor,
    color,
    fontFamily,
    fontSize,
    fontWeight,
    letterSpacing,
    lineHeight,
    textTransform
  } = node.attrs;
  node.forEach((listItemNode) => {
    Object.assign(listItemNode.toJSON().attrs, {
      color,
      backgroundColor,
      fontSize,
      fontFamily,
      fontWeight,
      letterSpacing,
      lineHeight,
      textTransform
    });
  });
  attributes.style = null;
};

exports.getVarFromStyle = getVarFromStyle;
exports.moveStyleToListItem = moveStyleToListItem;
exports.renderResponsiveAttr = renderResponsiveAttr;
