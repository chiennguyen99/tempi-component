import { jsx } from 'react/jsx-runtime';
import { Delete16Regular } from '@fluentui/react-icons';
import { useNode } from '@tempi/dnd-core';
import { useEditor } from '../../hooks/useEditor.es.js';
import { QuickSettingButton } from '../../components/QuickSettingButton/QuickSettingButton.es.js';

const DeleteNode = ({ customDelete }) => {
  const { actions, query } = useEditor();
  const { id, isDeletable } = useNode((node) => ({
    isDeletable: query.node(node.id).isDeletable(),
    name: node.data.name,
    parent: node.data.parent
  }));
  const onDelete = (e) => {
    e.stopPropagation();
    if (typeof customDelete === "function")
      customDelete(id);
    else
      actions.delete(id);
  };
  if (!isDeletable)
    return null;
  return /* @__PURE__ */ jsx(QuickSettingButton, {
    onClick: onDelete,
    children: /* @__PURE__ */ jsx(Delete16Regular, {})
  });
};

export { DeleteNode };
