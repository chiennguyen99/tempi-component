import { jsx } from 'react/jsx-runtime';
import { useNode } from '@tempi/dnd-core';
import { Copy16Regular } from '@fluentui/react-icons';
import { useEditor } from '../../hooks/useEditor.es.js';
import { QuickSettingButton } from '../../components/QuickSettingButton/QuickSettingButton.es.js';

const DuplicateNode = ({
  track
}) => {
  const { duplicateNode, getSiblings } = useEditor();
  const { id, node, parentId } = useNode((node2) => ({
    node: node2,
    parentId: node2.data.parent
  }));
  return /* @__PURE__ */ jsx(QuickSettingButton, {
    onClick: () => {
      const index = getSiblings(id).findIndex((el) => el === id);
      duplicateNode(node, parentId, index + 1);
      track == null ? void 0 : track();
    },
    children: /* @__PURE__ */ jsx(Copy16Regular, {})
  });
};

export { DuplicateNode };
