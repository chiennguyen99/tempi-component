'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var dndCore = require('@tempi/dnd-core');
var get = require('lodash.get');
var set = require('lodash.set');

function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }

var get__default = /*#__PURE__*/_interopDefaultLegacy(get);
var set__default = /*#__PURE__*/_interopDefaultLegacy(set);

const useProp = (key, options) => {
  const {
    actions: { setProp },
    props
  } = dndCore.useNode((node) => {
    return {
      props: node.data.props
    };
  });
  const value = typeof (options == null ? void 0 : options.formatter) === "function" ? options.formatter(get__default["default"](props, key)) : get__default["default"](props, key);
  const onChangeInput = (value2) => {
    setProp((props2) => {
      if (typeof (options == null ? void 0 : options.parser) === "function")
        set__default["default"](props2, key, options == null ? void 0 : options.parser(value2));
      else
        set__default["default"](props2, key, value2);
    }, 500);
  };
  return [value, onChangeInput];
};

exports.useProp = useProp;
