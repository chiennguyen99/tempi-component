import { useMemo } from 'react';
import { generateRandomId } from '@tempi/core-renderer';
import { usePropSeparateDevice } from './usePropSeparateDevice.es.js';

const generateId = () => `slider-item-${generateRandomId()}`;
const useSortable = (propKey, separateDevice = false) => {
  const [sliderItems, setSliderItems] = usePropSeparateDevice(
    propKey,
    separateDevice
  );
  const items = useMemo(() => {
    var _a;
    return (_a = sliderItems == null ? void 0 : sliderItems.map) == null ? void 0 : _a.call(sliderItems, (e, idx) => ({
      id: e.id || `${JSON.stringify(e)}_${idx}}` || generateId(),
      item: e
    }));
  }, [sliderItems]);
  const setItems = (cb) => {
    const newItem = cb([...sliderItems || []]);
    setSliderItems(newItem);
  };
  return [items, setItems];
};

export { useSortable };
