import { t } from '../../i18n.es.js';
import { notification } from 'antd';

const getFileName = (str) => {
  return str.substring(str.lastIndexOf("/") + 1);
};
const VIDEO_VALID_TYPES = ["video/mp4", "video/webm", "video/ogg"];
const VIDEO_MAX_SIZE = 20;
const beforeUploadVideo = (file) => {
  const isValidType = VIDEO_VALID_TYPES.includes(file.type);
  if (!isValidType) {
    notification.error({
      message: t("B\u1EA1n ch\u1EC9 c\xF3 th\u1EC3 t\u1EA3i l\xEAn video d\u1EA1ng MP4/WEBM/OGV!")
    });
    return false;
  }
  const isValidSize = file.size < VIDEO_MAX_SIZE * 1024 * 1024;
  if (!isValidSize) {
    notification.error({
      message: t("B\u1EA1n ch\u1EC9 c\xF3 th\u1EC3 t\u1EA3i l\xEAn video nh\u1ECF h\u01A1n ho\u1EB7c b\u1EB1ng 20MB!")
    });
    return false;
  }
  return true;
};

export { beforeUploadVideo, getFileName };
